{% comment %}
  This section is used in the customer register template to render the
  registration form.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/customers-register
{% endcomment %}

<div class="customer-register">
  <div class="customer-register__container">
    {% if section.settings.logo %}
      <div class="customer-register__logo">
        {{ section.settings.logo | image_url: width: 120 | image_tag }}
      </div>
    {% endif %}

    <h1 class="customer-register__title">{{ 'customers.register.title' | t }}</h1>
    <p class="customer-register__subtitle">{{ 'customers.register.subtitle' | t }}</p>

    {% form 'create_customer' %}
      {{ form.errors | default_errors }}

      <div class="customer-register__form">
        <div class="form-field">
          <label for="register-first-name">{{ 'customers.register.full_name' | t }}</label>
          <div class="form-field__input-wrapper">
            <span class="form-field__icon">
              {{ 'icon-account.svg' | inline_asset_content }}
            </span>
            <input
              type="text"
              name="customer[first_name]"
              id="register-first-name"
              placeholder="{{ 'customers.register.full_name_placeholder' | t }}"
              value="{{ form.first_name }}"
              required
              autocomplete="given-name"
            >
          </div>
        </div>

        <div class="form-field">
          <label for="register-email">{{ 'customers.register.email' | t }}</label>
          <div class="form-field__input-wrapper">
            <span class="form-field__icon">
              {{ 'icon-email.svg' | inline_asset_content }}
            </span>
            <input
              type="email"
              name="customer[email]"
              id="register-email"
              placeholder="{{ 'customers.register.email_placeholder' | t }}"
              value="{{ form.email }}"
              required
              autocomplete="email"
            >
          </div>
        </div>

        <div class="form-field">
          <label for="register-password">{{ 'customers.register.password' | t }}</label>
          <div class="form-field__input-wrapper">
            <span class="form-field__icon">
              {{ 'icon-lock.svg' | inline_asset_content }}
            </span>
            <input
              type="password"
              name="customer[password]"
              id="register-password"
              placeholder="{{ 'customers.register.password_placeholder' | t }}"
              required
              autocomplete="new-password"
            >
          </div>
        </div>

        <button type="submit" class="customer-register__submit">
          {{ 'icon-account.svg' | inline_asset_content }}
          {{ 'customers.register.submit' | t }}
        </button>

        <p class="customer-register__signin">
          {{ 'customers.register.have_account' | t }}
          <a href="{{ routes.account_login_url }}">{{ 'customers.register.sign_in' | t }}</a>
        </p>
      </div>
    {% endform %}
  </div>
</div>

{% stylesheet %}
  .customer-register {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 80vh;
    padding: 2rem 1rem;
  }

  .customer-register__container {
    width: 100%;
    max-width: 476px;
    text-align: center;
  }

  .customer-register__logo {
    margin-bottom: 1.5rem;
  }

  .customer-register__logo img {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin: 0 auto;
  }

  .customer-register__title {
    font-size: 1.875rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
    color: var(--color-foreground);
  }

  .customer-register__subtitle {
    font-size: 1rem;
    color: #6b7280;
    margin-bottom: 2rem;
  }

  .customer-register__form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .form-field {
    text-align: left;
  }

  .form-field label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-foreground);
    margin-bottom: 0.5rem;
  }

  .form-field__input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }

  .form-field__icon {
    position: absolute;
    left: 1rem;
    display: flex;
    align-items: center;
    color: #9ca3af;
    pointer-events: none;
  }

  .form-field__icon svg {
    width: 1.25rem;
    height: 1.25rem;
  }

  .form-field input {
    width: 100%;
    padding: 0.875rem 1rem 0.875rem 3rem;
    border: 1px solid #d1d5db;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    color: var(--color-foreground);
    background-color: var(--color-background);
    transition: border-color 0.2s;
  }

  .form-field input::placeholder {
    color: #9ca3af;
  }

  .form-field input:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .customer-register__submit {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
    padding: 0.875rem 1rem;
    background-color: #10b981;
    color: white;
    border: none;
    border-radius: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s;
    margin-top: 0.5rem;
  }

  .customer-register__submit svg {
    width: 1.25rem;
    height: 1.25rem;
  }

  .customer-register__submit:hover {
    background-color: #059669;
  }

  .customer-register__signin {
    font-size: 0.875rem;
    color: #6b7280;
    margin-top: 0.5rem;
  }

  .customer-register__signin a {
    color: #3b82f6;
    text-decoration: none;
    font-weight: 500;
  }

  .customer-register__signin a:hover {
    text-decoration: underline;
  }

  .errors {
    background-color: #fee;
    border: 1px solid #fcc;
    border-radius: 0.5rem;
    padding: 1rem;
    margin-bottom: 1.5rem;
    text-align: left;
  }

  .errors ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .errors li {
    color: #dc2626;
    font-size: 0.875rem;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.register",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    }
  ]
}
{% endschema %}
